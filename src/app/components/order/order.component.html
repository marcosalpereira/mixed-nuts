<div class="bg"></div>
<div class="content">
    <div *ngIf="user" class="top">
        <span [title]="user.email">{{(user?.displayName) ? user?.displayName : user?.email}}</span>
        <div class="photo">
            <img title="Sair" style="cursor: pointer" (click)="logout()"
            src="{{(user.photoURL) ? user.photoURL : '/assets/dummy-user.png'}}">
            <footer>Sair</footer>
        </div>
    </div>
    <div *ngIf="!user" class="top">
        <span style="cursor: pointer" (click)="login()">Entrar usando conta do Google</span>
        <img src="assets/dummy-user.png" alt="Não Logado">
    </div>

    <p class="previsao">{{lastShipment ? 'Previsão:' + lastShipment.date : 'Nenhuma remessa prevista'}}</p>

    <section *ngIf="user && lastShipment" class="order-amount">
        <p>Selecione abaixo sua opção</p>
        <div [class.disabled]="!lastShipment?.open" (click)="onClick(0)" [class.selected]="orderAmount == 0"
            title="Não vou querer dessa vez">
            <img src="assets/no-thanks.jpeg" alt="Não vou querer dessa vez" class="qtd0">
            <footer>Zero</footer>
        </div>
        <div [class.disabled]="!lastShipment?.open" (click)="onClick(1)" [class.selected]="orderAmount == 1">
            <img src="assets/nuts192.png" title="Quero um pacote" alt="Quero um pacote" class="qtd1">
            <footer>Um Pacote</footer>
        </div>
        <div [class.disabled]="!lastShipment?.open" (click)="onClick(2)" [class.selected]="orderAmount == 2">
            <img src="assets/nuts192.png" title="Quero dois pacotes" alt="Quero dois pacotes" class="qtd2">
            <footer>Dois Pacotes</footer>
        </div>
    </section>

    <section class="history">
        <p>Histórico de pedidos</p>
        <div class="history">
            <span class="order" *ngFor="let order of orders">{{order.shipmentDate}}
                <span class="badge">{{order.amount}}</span>
            </span>
        </div>
    </section>

</div>